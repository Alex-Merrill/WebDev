{"ast":null,"code":"import nc from 'next-connect';\nimport { getArticles, addArticle } from '../../../lib/backend-utils';\nimport { onError, cors } from '../../../lib/middleware';\nconst handler = nc({\n  onError\n}).use(cors).get(async (req, res) => {\n  const articles = await getArticles();\n  res.status(200).json(articles);\n}).post(async (req, res) => {\n  const newArticle = req.body;\n  const article = await addArticle(newArticle);\n  res.status(200).json(article);\n});\nexport default handler;","map":{"version":3,"sources":["/Users/alexmerrill/Desktop/Middlebury/20-21/SWD/Web Dev/RDMBS/src/pages/api/articles/index.js"],"names":["nc","getArticles","addArticle","onError","cors","handler","use","get","req","res","articles","status","json","post","newArticle","body","article"],"mappings":"AAAA,OAAOA,EAAP,MAAe,cAAf;AACA,SAASC,WAAT,EAAsBC,UAAtB,QAAwC,4BAAxC;AACA,SAASC,OAAT,EAAkBC,IAAlB,QAA8B,yBAA9B;AAEA,MAAMC,OAAO,GAAGL,EAAE,CAAC;AAAEG,EAAAA;AAAF,CAAD,CAAF,CACbG,GADa,CACTF,IADS,EAEbG,GAFa,CAET,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACvB,QAAMC,QAAQ,GAAG,MAAMT,WAAW,EAAlC;AACAQ,EAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,QAArB;AACD,CALa,EAMbG,IANa,CAMR,OAAOL,GAAP,EAAYC,GAAZ,KAAoB;AACxB,QAAMK,UAAU,GAAGN,GAAG,CAACO,IAAvB;AACA,QAAMC,OAAO,GAAG,MAAMd,UAAU,CAACY,UAAD,CAAhC;AACAL,EAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBI,OAArB;AACD,CAVa,CAAhB;AAYA,eAAeX,OAAf","sourcesContent":["import nc from 'next-connect';\nimport { getArticles, addArticle } from '../../../lib/backend-utils';\nimport { onError, cors } from '../../../lib/middleware';\n\nconst handler = nc({ onError })\n  .use(cors)\n  .get(async (req, res) => {\n    const articles = await getArticles();\n    res.status(200).json(articles);\n  })\n  .post(async (req, res) => {\n    const newArticle = req.body;\n    const article = await addArticle(newArticle);\n    res.status(200).json(article);\n  });\n\nexport default handler;\n"]},"metadata":{},"sourceType":"module"}